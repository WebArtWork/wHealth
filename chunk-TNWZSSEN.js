import{a as g}from"./chunk-2PV4A4N3.js";import"./chunk-LFHVAGLD.js";import{a as v}from"./chunk-IDTG22YN.js";import{a as f}from"./chunk-FWUV377N.js";import{e as B}from"./chunk-WDW6KDBE.js";import{$ as s,A as k,Da as j,H as o,K as m,L as _,M as F,P,R as h,Sa as D,T as d,Ta as q,V as a,W as n,Wa as H,X as S,_ as E,aa as I,bb as N,da as T,f as u,hb as L,ia as p,ja as O,ob as R,qb as V,s as b,sb as A,x as w,xb as y,y as M}from"./chunk-STQM5VJK.js";var $=(()=>{class r{constructor(e,i,t,c,l,G){this._translate=e,this._healthpharmacyService=i,this._alert=t,this._form=c,this._core=l,this._router=G,this.load=new k,this.form=this._form.getForm("patient",v)}update(e){this._form.modal(this.form,[],e).then(i=>{this._core.copy(i,e),this._healthpharmacyService.update(e);let t=this._healthpharmacyService.doc(e._id);this._core.copy(i,t)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this healthclinic?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>u(this,null,function*(){this._healthpharmacyService.delete(e).subscribe(()=>{this.load.emit()})})}]})}static{this.\u0275fac=function(i){return new(i||r)(m(R),m(f),m(L),m(y),m(N),m(D))}}static{this.\u0275cmp=_({type:r,selectors:[["app-mypharmacy"]],inputs:{pharmacy:"pharmacy"},outputs:{load:"load"},standalone:!1,decls:7,vars:3,consts:[[3,"routerLink"],[1,"documents__title"],[1,"material-icons",3,"click"]],template:function(i,t){i&1&&(a(0,"a",0)(1,"div",1),p(2),n()(),a(3,"span",2),s("click",function(){return t.update(t.pharmacy)}),p(4,"edit"),n(),a(5,"span",2),s("click",function(){return t.delete(t.pharmacy)}),p(6,"delete"),n()),i&2&&(T("routerLink","/onepharmacypage/",t.pharmacy._id,""),o(2),O(t.pharmacy.name))},dependencies:[q],encapsulation:2})}}return r})();function U(r,z){if(r&1){let e=E();a(0,"div",17)(1,"app-mypharmacy",18),s("load",function(){w(e);let t=I();return M(t.load())}),n()()}if(r&2){let e=z.$implicit;o(),h("pharmacy",e)}}var C=(()=>{class r{constructor(e,i){this._healthpharmacyService=e,this._form=i,this.search="",this.pharmacy_drug="",this.place_drug="",this.pharmacies=[],this.form=this._form.getForm("clinic",v),this.isMenuOpen=!1,this.load()}load(){this._healthpharmacyService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.pharmacies.splice(0,this.pharmacies.length),this.pharmacies.push(...e)})}setField(e){this.search=e||""}_query(){let e="";return this.search&&(e+=(e?"&":"")+"search="+this.search),this.pharmacy_drug&&(e+=(e?"&":"")+"pharmacy_drug="+this.pharmacy_drug),e}create(){this._form.modal(this.form,{label:"Create",click:(e,i)=>u(this,null,function*(){i(),this._healthpharmacyService.create(e).subscribe(()=>{this.load()}),i()})})}static{this.\u0275fac=function(i){return new(i||r)(m(f),m(y))}}static{this.\u0275cmp=_({type:r,selectors:[["ng-component"]],standalone:!1,decls:19,vars:12,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__img"],["src","assets/default.png","alt",""],[1,"documents-sidebar__title"],[1,"documents-sidebar__description"],[3,"click"],[3,"wChange","value"],[3,"wChange","wSubmit","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"load","pharmacy"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s("click",function(){return t.isMenuOpen=!t.isMenuOpen}),S(4,"div",4),n(),a(5,"div",5)(6,"div",6)(7,"div",7),S(8,"img",8),n(),a(9,"div",9),p(10," Title of sidebar... "),n(),a(11,"div",10)(12,"wbutton",11),s("click",function(){return t.create()}),p(13,"Create"),n(),a(14,"healthdrug-selector",12),s("wChange",function(l){return t.pharmacy_drug=l,t.load()}),n(),a(15,"winput",13),s("wChange",function(l){return t.setField(l)})("wSubmit",function(){return t.load()}),n()()()(),a(16,"div",14)(17,"div",15),P(18,U,2,1,"div",16),n()()()()()),i&2&&(d("documents-wrapper--open",t.isMenuOpen),o(3),d("burger-wrap--open",t.isMenuOpen),o(),d("burger--close",t.isMenuOpen),o(),d("documents-sidebar--open",t.isMenuOpen),o(9),h("value",t.pharmacy_drug),o(),h("type","search")("clearable",!0),o(3),h("ngForOf",t.pharmacies))},dependencies:[j,V,A,g,$],encapsulation:2})}}return r})();var W=[{path:"",component:C},{path:":drug_id",component:C},{path:":pharmacy_drug",component:C}],ge=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=F({type:r})}static{this.\u0275inj=b({imports:[H.forChild(W),B,g]})}}return r})();export{ge as PharmacyModule};
