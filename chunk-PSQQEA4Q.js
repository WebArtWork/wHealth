import{a as y}from"./chunk-7MUWQP62.js";import"./chunk-AQFVT7JL.js";import{a as S}from"./chunk-2PV4A4N3.js";import"./chunk-LFHVAGLD.js";import{a as b}from"./chunk-5HTQFLT5.js";import{a as g}from"./chunk-L5QHBTWI.js";import{a as Q}from"./chunk-FWUV377N.js";import{e as K}from"./chunk-WDW6KDBE.js";import{$ as l,A as v,Da as N,Db as G,Eb as J,H as o,K as s,L as h,M as k,P as I,R as m,Sa as V,T as u,Ta as L,V as n,W as r,Wa as R,X as P,_ as O,aa as H,bb as A,da as j,f,hb as B,ia as d,ja as q,ob as Y,qb as $,s as M,sb as z,w as E,x as F,xb as C,y as T}from"./chunk-STQM5VJK.js";var w=(()=>{class a{get items(){return this._healthpharmacyService.healthpharmacy}constructor(e){this._healthpharmacyService=e,this.wChange=new v}ngOnChanges(e){e.value&&!e.value.firstChange&&(this.value=e.value.currentValue),e.disabled&&!e.disabled.firstChange&&(this.disabled=e.disabled.currentValue)}static{this.\u0275fac=function(i){return new(i||a)(s(Q))}}static{this.\u0275cmp=h({type:a,selectors:[["healthpharmacy-selector"]],inputs:{value:"value",disabled:"disabled"},outputs:{wChange:"wChange"},features:[E],decls:1,vars:4,consts:[["placeholder","Select pharmacy",3,"modelChange","select","items","clearable","disabled"]],template:function(i,t){i&1&&(n(0,"wselect",0),l("modelChange",function(p){return t.wChange.emit(p)}),r()),i&2&&m("select",t.value)("items",t.items)("clearable",!0)("disabled",t.disabled)},dependencies:[J,G],encapsulation:2})}}return a})();var U=(()=>{class a{constructor(e,i,t,c,p,X){this._translate=e,this._healthplaceService=i,this._alert=t,this._form=c,this._core=p,this._router=X,this.load=new v,this.form=this._form.getForm("patient",b)}update(e){this._form.modal(this.form,[],e).then(i=>{this._core.copy(i,e),this._healthplaceService.update(e);let t=this._healthplaceService.doc(e._id);this._core.copy(i,t)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this healthclinic?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>f(this,null,function*(){this._healthplaceService.delete(e).subscribe(()=>{this.load.emit()})})}]})}static{this.\u0275fac=function(i){return new(i||a)(s(Y),s(g),s(B),s(C),s(A),s(V))}}static{this.\u0275cmp=h({type:a,selectors:[["app-place"]],inputs:{place:"place"},outputs:{load:"load"},standalone:!1,decls:7,vars:3,consts:[[3,"routerLink"],[1,"documents__title"],[1,"material-icons",3,"click"]],template:function(i,t){i&1&&(n(0,"a",0)(1,"div",1),d(2),r()(),n(3,"span",2),l("click",function(){return t.update(t.place)}),d(4,"edit"),r(),n(5,"span",2),l("click",function(){return t.delete(t.place)}),d(6,"delete"),r()),i&2&&(j("routerLink","/oneplacepage/",t.place._id,""),o(2),q(t.place.name))},dependencies:[L],encapsulation:2})}}return a})();function ie(a,W){if(a&1){let e=O();n(0,"div",17)(1,"app-place",18),l("load",function(){F(e);let t=H();return T(t.load())}),r()()}if(a&2){let e=W.$implicit;o(),m("place",e)}}var _=(()=>{class a{constructor(e,i){this._healthplaceService=e,this._form=i,this.clinic_id="",this.place_drug="",this.search="",this.pharmacy_id="",this.places=[],this.isMenuOpen=!1,this.clinicDisabled=!1,this.drugDisabled=!1,this.pharmacyDisabled=!1,this.form=this._form.getForm("clinic",b),this.load()}load(){this._healthplaceService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.places.splice(0,this.places.length),this.places.push(...e)}),!this.clinic_id&&!this.pharmacy_id&&!this.place_drug&&(this.clinicDisabled=!1,this.pharmacyDisabled=!1,this.drugDisabled=!1),this.clinic_id&&(this.clinicDisabled=!1,this.pharmacyDisabled=!0,this.drugDisabled=!0),this.pharmacy_id&&(this.clinicDisabled=!0,this.pharmacyDisabled=!1,this.drugDisabled=!0),this.place_drug&&(this.clinicDisabled=!0,this.pharmacyDisabled=!0,this.drugDisabled=!1)}setField(e){this.search=e||""}_query(){let e="";return this.place_drug&&(e+=(e?"&":"")+"place_drug="+this.place_drug),this.clinic_id&&(e+=(e?"&":"")+"clinic="+this.clinic_id),this.search&&(e+=(e?"&":"")+"search="+this.search),this.pharmacy_id&&(e+=(e?"&":"")+"pharmacy="+this.pharmacy_id),e}create(){this._form.modal(this.form,{label:"Create",click:(e,i)=>f(this,null,function*(){i(),this._healthplaceService.create(e).subscribe(()=>{this.load()}),i()})})}static{this.\u0275fac=function(i){return new(i||a)(s(g),s(C))}}static{this.\u0275cmp=h({type:a,selectors:[["ng-component"]],standalone:!1,decls:21,vars:17,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__img"],["src","assets/default.png","alt",""],[1,"documents-sidebar__title"],[1,"documents-sidebar__description"],[3,"click"],[3,"wChange","value","disabled"],[3,"wChange","wSubmit","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"load","place"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l("click",function(){return t.isMenuOpen=!t.isMenuOpen}),P(4,"div",4),r(),n(5,"div",5)(6,"div",6)(7,"div",7),P(8,"img",8),r(),n(9,"div",9),d(10," Title of sidebar... "),r(),n(11,"div",10)(12,"wbutton",11),l("click",function(){return t.create()}),d(13,"Create"),r(),n(14,"healthclinic-selector",12),l("wChange",function(p){return t.clinic_id=p,t.load()}),r(),n(15,"healthpharmacy-selector",12),l("wChange",function(p){return t.pharmacy_id=p,t.load()}),r(),n(16,"healthdrug-selector",12),l("wChange",function(p){return t.place_drug=p,t.load()}),r(),n(17,"winput",13),l("wChange",function(p){return t.setField(p)})("wSubmit",function(){return t.load()}),r()()()(),n(18,"div",14)(19,"div",15),I(20,ie,2,1,"div",16),r()()()()()),i&2&&(u("documents-wrapper--open",t.isMenuOpen),o(3),u("burger-wrap--open",t.isMenuOpen),o(),u("burger--close",t.isMenuOpen),o(),u("documents-sidebar--open",t.isMenuOpen),o(9),m("value",t.clinic_id)("disabled",t.clinicDisabled),o(),m("value",t.pharmacy_id)("disabled",t.pharmacyDisabled),o(),m("value",t.place_drug)("disabled",t.drugDisabled),o(),m("type","search")("clearable",!0),o(3),m("ngForOf",t.places))},dependencies:[N,$,z,y,S,w,U],encapsulation:2})}}return a})();var ae=[{path:"",component:_},{path:":clinic_id",component:_},{path:":place_drug",component:_},{path:":pharmacy_id",component:_}],Ne=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=k({type:a})}static{this.\u0275inj=M({imports:[R.forChild(ae),K,y,S,w]})}}return a})();export{Ne as PlacesModule};
