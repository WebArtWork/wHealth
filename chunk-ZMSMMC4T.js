import{a as v}from"./chunk-NQLGH4CP.js";import{a as f}from"./chunk-AQFVT7JL.js";import{e as A}from"./chunk-WDW6KDBE.js";import{$ as l,A as y,Da as O,H as s,K as c,L as u,M as k,P as M,R as h,Sa as j,T as p,Ta as q,V as r,W as o,Wa as D,X as g,_ as F,aa as I,bb as N,da as E,f as d,hb as P,ia as m,ka as T,ob as L,qb as R,s as b,sb as V,x as S,xb as _,y as w}from"./chunk-STQM5VJK.js";var x=(()=>{class n{constructor(e,t,i,a,C,$){this._translate=e,this._healthclinicService=t,this._alert=i,this._form=a,this._core=C,this._router=$,this.load=new y,this.form=this._form.getForm("patient",v)}update(e){this._form.modal(this.form,[],e).then(t=>{this._core.copy(t,e),this._healthclinicService.update(e);let i=this._healthclinicService.doc(e._id);this._core.copy(t,i)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this healthclinic?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>d(this,null,function*(){this._healthclinicService.delete(e).subscribe(()=>{this.load.emit()})})}]})}static{this.\u0275fac=function(t){return new(t||n)(c(L),c(f),c(P),c(_),c(N),c(j))}}static{this.\u0275cmp=u({type:n,selectors:[["app-clinic"]],inputs:{clinic:"clinic"},outputs:{load:"load"},standalone:!1,decls:7,vars:3,consts:[[3,"routerLink"],[1,"documents__title"],[1,"material-icons",3,"click"]],template:function(t,i){t&1&&(r(0,"a",0)(1,"div",1),m(2),o()(),r(3,"span",2),l("click",function(){return i.update(i.clinic)}),m(4,"edit"),o(),r(5,"span",2),l("click",function(){return i.delete(i.clinic)}),m(6,"delete"),o()),t&2&&(E("routerLink","/clinicpage/",i.clinic._id,""),s(2),T(" ",i.clinic.name,`
`))},dependencies:[q],encapsulation:2})}}return n})();function K(n,Y){if(n&1){let e=F();r(0,"div",16)(1,"app-clinic",17),l("load",function(){S(e);let i=I();return w(i.load())}),o()()}if(n&2){let e=Y.$implicit;s(),h("clinic",e)}}var B=(()=>{class n{constructor(e,t){this._healthclinicService=e,this._form=t,this.search="",this.clinics=[],this.isMenuOpen=!1,this.form=this._form.getForm("clinic",v),this.load()}load(){this._healthclinicService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.clinics.splice(0,this.clinics.length),this.clinics.push(...e)})}setField(e){this.search=e||""}_query(){let e="";return this.search&&(e+=(e?"&":"")+"search="+this.search),e}create(){this._form.modal(this.form,{label:"Create",click:(e,t)=>d(this,null,function*(){t(),this._healthclinicService.create(e).subscribe(()=>{this.load()}),t()})})}static{this.\u0275fac=function(t){return new(t||n)(c(f),c(_))}}static{this.\u0275cmp=u({type:n,selectors:[["ng-component"]],standalone:!1,decls:18,vars:11,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__img"],["src","assets/default.png","alt",""],[1,"documents-sidebar__title"],[1,"documents-sidebar__description"],[3,"click"],[3,"wChange","wSubmit","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"load","clinic"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l("click",function(){return i.isMenuOpen=!i.isMenuOpen}),g(4,"div",4),o(),r(5,"div",5)(6,"div",6)(7,"div",7),g(8,"img",8),o(),r(9,"div",9),m(10," Title of sidebar... "),o(),r(11,"div",10)(12,"wbutton",11),l("click",function(){return i.create()}),m(13,"Create"),o(),r(14,"winput",12),l("wChange",function(C){return i.setField(C)})("wSubmit",function(){return i.load()}),o()()()(),r(15,"div",13)(16,"div",14),M(17,K,2,1,"div",15),o()()()()()),t&2&&(p("documents-wrapper--open",i.isMenuOpen),s(3),p("burger-wrap--open",i.isMenuOpen),s(),p("burger--close",i.isMenuOpen),s(),p("documents-sidebar--open",i.isMenuOpen),s(9),h("type","search")("clearable",!0),s(3),h("ngForOf",i.clinics))},dependencies:[O,R,V,x],encapsulation:2})}}return n})();var Q=[{path:"",component:B}],fe=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=k({type:n})}static{this.\u0275inj=b({imports:[D.forChild(Q),A]})}}return n})();export{fe as ClinicspageModule};
