import{a as C,b as g}from"./chunk-SWJVH2XJ.js";import{a as v}from"./chunk-7MUWQP62.js";import"./chunk-AQFVT7JL.js";import{e as $}from"./chunk-WDW6KDBE.js";import{$ as a,A as k,Da as H,H as c,K as s,L as _,M,P as F,R as d,Sa as N,T as u,Ta as P,V as n,W as r,Wa as L,X as S,Y as E,Z as I,_ as T,aa as O,bb as R,da as j,f as h,hb as V,ia as m,ja as q,ob as A,qb as B,s as w,sb as Y,x as y,xb as f,y as D}from"./chunk-STQM5VJK.js";var G=(()=>{class o{constructor(e,i,t,l,p,K){this._translate=e,this._healthdoctorService=i,this._alert=t,this._form=l,this._core=p,this._router=K,this.load=new k,this.form=this._form.getForm("patient",C)}update(e){this._form.modal(this.form,[],e).then(i=>{this._core.copy(i,e),this._healthdoctorService.update(e);let t=this._healthdoctorService.doc(e._id);this._core.copy(i,t)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this healthclinic?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>h(this,null,function*(){this._healthdoctorService.delete(e).subscribe(()=>{this.load.emit()})})}]})}static{this.\u0275fac=function(i){return new(i||o)(s(A),s(g),s(V),s(f),s(R),s(N))}}static{this.\u0275cmp=_({type:o,selectors:[["app-doctor"]],inputs:{doctor:"doctor"},outputs:{load:"load"},standalone:!1,decls:7,vars:3,consts:[[3,"routerLink"],[1,"documents__title"],[1,"material-icons",3,"click"]],template:function(i,t){i&1&&(n(0,"a",0)(1,"div",1),m(2),r()(),n(3,"span",2),a("click",function(){return t.update(t.doctor)}),m(4,"edit"),r(),n(5,"span",2),a("click",function(){return t.delete(t.doctor)}),m(6,"delete"),r()),i&2&&(j("routerLink","/doctorpage/",t.doctor._id,""),c(2),q(t.doctor.name))},dependencies:[P],encapsulation:2})}}return o})();function X(o,J){if(o&1){let e=T();E(0),n(1,"div",17)(2,"app-doctor",18),a("load",function(){y(e);let t=O();return D(t.load())}),r()(),I()}if(o&2){let e=J.$implicit;c(2),d("doctor",e)}}var b=(()=>{class o{constructor(e,i){this._healthdoctorService=e,this._form=i,this.clinic_id="",this.search="",this.doctors=[],this.isMenuOpen=!1,this.form=this._form.getForm("clinic",C),this.load()}load(){this._healthdoctorService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.doctors.splice(0,this.doctors.length),this.doctors.push(...e)})}setField(e){this.search=e||""}_query(){let e="";return this.clinic_id&&(e+=(e?"&":"")+"clinic="+this.clinic_id),this.search&&(e+=(e?"&":"")+"search="+this.search),e}create(){this._form.modal(this.form,{label:"Create",click:(e,i)=>h(this,null,function*(){i(),this._healthdoctorService.create(e).subscribe(()=>{this.load()}),i()})})}static{this.\u0275fac=function(i){return new(i||o)(s(g),s(f))}}static{this.\u0275cmp=_({type:o,selectors:[["ng-component"]],standalone:!1,decls:19,vars:12,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__img"],["src","assets/default.png","alt",""],[1,"documents-sidebar__title"],[1,"documents-sidebar__description"],[3,"click"],[3,"wChange","value"],[3,"wChange","wSubmit","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],[4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"load","doctor"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a("click",function(){return t.isMenuOpen=!t.isMenuOpen}),S(4,"div",4),r(),n(5,"div",5)(6,"div",6)(7,"div",7),S(8,"img",8),r(),n(9,"div",9),m(10," Title of sidebar... "),r(),n(11,"div",10)(12,"wbutton",11),a("click",function(){return t.create()}),m(13,"Create"),r(),n(14,"healthclinic-selector",12),a("wChange",function(p){return t.clinic_id=p,t.load()}),r(),n(15,"winput",13),a("wChange",function(p){return t.setField(p)})("wSubmit",function(){return t.load()}),r()()()(),n(16,"div",14)(17,"div",15),F(18,X,3,1,"ng-container",16),r()()()()()),i&2&&(u("documents-wrapper--open",t.isMenuOpen),c(3),u("burger-wrap--open",t.isMenuOpen),c(),u("burger--close",t.isMenuOpen),c(),u("documents-sidebar--open",t.isMenuOpen),c(9),d("value",t.clinic_id),c(),d("type","search")("clearable",!0),c(3),d("ngForOf",t.doctors))},dependencies:[H,B,Y,v,G],encapsulation:2})}}return o})();var Z=[{path:"",component:b},{path:":clinic_id",component:b}],be=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=M({type:o})}static{this.\u0275inj=w({imports:[L.forChild(Z),$,v]})}}return o})();export{be as DoctorspageModule};
